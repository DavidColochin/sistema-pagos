<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Administraci칩n</title>

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script type="module" src="script.js"></script>

</head>
<body>

<header>
    <h1 id="tituloAdmin"><i class="fa-solid fa-user-shield"></i> Acceso Administrador</h1>
</header>

<!-- CONTENEDOR ESPECIAL PARA ADMIN -->
<div class="admin-wrapper">

    <!-- LOGIN -->
    <div class="login-container vertical">
        <input type="password" id="adminPass" placeholder="Ingrese c칩digo">

        <div class="login-actions">
            <button onclick="window.location.href='index.html'" class="btn-back inline">
                <i class="fa-solid fa-arrow-left"></i> Inicio
            </button>

            <button onclick="login()" class="btn inline">
                Ingresar
            </button>
        </div>
    </div>

    <!-- PANEL ADMIN -->
    <div id="adminPanel" style="display:none;">
        <h2><i class="fa-solid fa-user-plus"></i> Registrar Nuevo Alumno</h2>

        <input type="text" id="nombre" placeholder="Nombre del Alumno" class="upper">
        <input type="text" id="familiar" placeholder="Familiar del Alumno" class="upper">
        <input type="text" id="grado" placeholder="Grado"
           inputmode="numeric" pattern="\d*" maxlength="2" class="only-numbers">
       
        <input type="text" id="maestro" placeholder="Maestro/a" class="upper">

       
            <div style="margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
              <button onclick="registrarAlumno()" class="btn green">
                <i class="fa-solid fa-user-plus"></i> Registrar Alumno
              </button>
                                  
            <button onclick="window.location.href='index.html'" class="btn btn-back" style="margin-left:8px;">
                <i class="fa-solid fa-house"></i> Inicio
            </button>
            
            <!-- 游댍 Nuevo: Filtro por Maestro/a en Admin -->
              <label for="filtroMaestroAdmin" style="font-weight:600; display:flex; gap:6px; align-items:center;">
                <i class="fa-solid fa-chalkboard-user"></i> Maestro/a:
              </label>
              <select id="filtroMaestroAdmin" style="padding:8px; border-radius:6px; border:1px solid #ccc;">
                <!-- Se llenar치 din치micamente con JS -->
              </select>
          
            </div>

        <p id="contador"></p>

        <h3><i class="fa-solid fa-users"></i> Alumnos Registrados</h3>
        <ul id="listaAlumnos"></ul>
    </div>

</div>

<!-- Modal Pago -->
<div id="modalPago" class="modal" aria-hidden="true">
    <div class="modal-content">
        <span class="close" onclick="cerrarModal()">&times;</span>
        <h2>Registrar / Editar Pago</h2>

        <p id="alumnoSeleccionado" style="font-weight:bold;"></p>

        <div id="pagosRegistrados" style="margin-bottom:10px;"></div>

        <label for="montoPago">Monto a pagar (Lps):</label>
        <input type="number" id="montoPago" placeholder="Ej: 50" min="0">

        <label>Mes a pagar:</label>
        <div id="mesesContainer" class="meses"></div>

        <div style="text-align:center; margin-top:12px;">
            <button onclick="guardarPago()" class="btn green">Guardar Pago</button>
            <button onclick="cerrarModal()" class="btn" style="margin-left:8px;">Cancelar</button>
        </div>
    </div>
</div>

<!-- Modal Editar Alumno -->
<div id="modalEditar" class="modal" aria-hidden="true">
    <div class="modal-content">
        <span class="close" onclick="cerrarModalEditar()">&times;</span>
        <h2><i class="fa-solid fa-user-pen"></i> Editar Alumno</h2>

        <input type="text" id="editNombre" placeholder="Nombre del Alumno" class="upper">
        <input type="text" id="editFamiliar" placeholder="Familiar" class="upper">
        <input type="text" id="editGrado" placeholder="Grado" class="only-numbers">
        <input type="text" id="editMaestro" placeholder="Maestro/a" class="upper">

        <div style="margin-top:12px; text-align:center;">
            <button onclick="guardarEdicion()" class="btn green">
                <i class="fa-solid fa-save"></i> Guardar Cambios
            </button>

            <button onclick="cerrarModalEditar()" class="btn" style="margin-left:8px;">
                Cancelar
            </button>
        </div>
    </div>
</div>

</body>
</html>
